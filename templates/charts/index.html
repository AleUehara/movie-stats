{% extends "base.html" %}

{% block head %}
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load('visualization', '1.0', {'packages':['corechart']});

      google.setOnLoadCallback(drawPieChart);
      function drawPieChart() {
        var data = google.visualization.arrayToDataTable(
            {{ movie_rate_by_year.values|safe }}
          );

        // Set chart options
        var options = {
                       'width':400,
                       'height':300,
                        is3D: true,
                   };

        var chart = new google.visualization.PieChart(document.getElementById('chart_movie_rate_by_year'));
        chart.draw(data, options);
      }

      google.setOnLoadCallback(drawMouseoverVisualization);
      var barsVisualization;
      function drawMouseoverVisualization() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Year');
        data.addColumn('number', '{{ movies_by_year.title }}');
        data.addRows( {{ movies_by_year.values|safe }} );
        var options = {
                     'width':400,
                     'height':300};
        barsVisualization = new google.visualization.ColumnChart(document.getElementById('chart_movies_by_year'));
        barsVisualization.draw(data, options);
        google.visualization.events.addListener(barsVisualization, 'onmouseover', barMouseOver);
        google.visualization.events.addListener(barsVisualization, 'onmouseout', barMouseOut);
      }
      function barMouseOver(e) {
        barsVisualization.setSelection([e]);
      }
      function barMouseOut(e) {
        barsVisualization.setSelection([{'row': null, 'column': null}]);
      }
    </script>
{% endblock %}

{% block content %}

    <div id="imdb_id">YOUR ID: {{imdbid}}</div>
    <div class="row-fluid marketing">
      <div class="span6">
        <h4>{{movies_by_year.title}}</h4>
        <p><div id="chart_movies_by_year"></div></p>

        <h4>{{movies_by_year.title}}</h4>
        <p>2Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum.</p>






        <h4>Subheading</h4>
        <p>3Maecenas sed diam eget risus varius blandit sit amet non magna.</p>
      </div>

      <div class="span6">
        <h4>{{movie_rate_by_year.title}}</h4>
        <p><div id="chart_movie_rate_by_year"></div></p>

        <h4>Subheading</h4>
        <p>5Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum.</p>

        <h4>Subheading</h4>
        <p>6Maecenas sed diam eget risus varius blandit sit amet non magna.</p>
      </div>
    </div>

{% endblock %}